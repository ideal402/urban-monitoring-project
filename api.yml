
# 현재화면 혼잡도 정보 가져오기
/person:
  get:
    summary: 지역별 혼잡도 조회
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: array     
              items:     
                type: object
                properties:
                  region:
                    type: integer
                    format: int64
                  level:
                    type: integer
                    format: int64
                  time:
                    type: string
                    format: date-time

# 혼잡도 예상정보 가져오기
/person/forecast:
  get:
    summary: 지역별 혼잡 예상도 조회
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  region:
                    type: integer
                    format: int64
                  level:
                    type: integer
                    format: int64
                  time:
                    type: string
                    format: date-time
        		
# 현재 날씨 가져오기
/weather:
  get:
    summary: 지역별 날씨 조회
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: array     
              items:     
                type: object
                properties:
                  region:
                    type: integer
                    format: int64
                  level:
                    type: integer
                    format: int64
                  time:
                    type: string
                    format: date-time

# 기상예보 가져오기
/weather/forecast:
  get:
    summary: 지역별 날씨 조회
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: array     
              items:     
                type: object
                properties:
                  region:
                    type: integer
                    format: int64
                  weather:
                    type: integer
                    format: int64
                  temperature:
                    type: integer
                    format: int64
                  time:
                    type: string
                    format: date-time

# 현재 기상상태 가져오기
/air:
  get:
    summary: 지역별 대기질 조회
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: array     
              items:     
                type: object
                properties:
                  region:
                    type: integer
                    format: int64
                  level:
                    type: integer
                    format: int64
                  time:
                    type: string
                    format: date-time

# 특정 지역 상세정보 보이기
/summary:
  get:
    summary: 특정 지역 상세 정보 조회
    parameters:
      - name: regionId
        in: query
        schema:
          type: integer
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: object
              properties:
                person:
                  type: object
                  properties:
                    level:
                      type: integer
                      format: int64
                    forecast:
                      type: integer
                      format: int64
                weather:
                  type: object
                  properties:
                    temperature:
                      type: integer
                      format: int64
                    forecast:
                      type: integer
                      format: int64
                air:
                  type: object
                  properties:
                    level:
                      type: integer
                      format: int64


# 회원가입
/signup:
  post:
    summary: 회원가입
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                type: string
                format: email
                example: "user@example.com"
              password:
                type: string
                format: password
              passwordCheck:
                type: string
                format: password
    responses:
      '201':
        description: Created
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer
      '400':
        description: fail
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer
                error:
                  type: string   

# 회원탈퇴
/user:
  delete:
    summary: 회원 탈퇴
    security:
      - bearerAuth: [] 
    
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - password
            properties:
              password:
                type: string
                format: password
                description: 본인 확인을 위한 비밀번호 재입력
    
    responses:
      '204':
        description: 탈퇴 성공 (반환값 없음)
      '400':
        description: 비밀번호 불일치
      '401':
        description: 인증 토큰 만료 또는 없음
        
# 로그인
/signin:
  post:
    summary: 로그인
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                type: string
                format: email
                example: "user@example.com"
              password:
                type: string
                format: password
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: object
              properties:
                token:       
                  type: string
      '400':
        description: fail
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer
                error:
                  type: string   

# 로그아웃
/signout:
  post:
    summary: 로그아웃
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer

# 알림 설정 하기
/setAlarm/{id}:
  patch:
    summary: 알림 지역 설정
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              setList:
                type: array
                items:
                  regionId:
                    type: integer
                    format: int64
              unsetList:
                type: array
                items:
                regionId:
                  type: integer
                  format: int64
    responses:
      '200':
        description: success
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer
      '400':        
        description: fail
        content:
          application/json:
            schema:
              type: object
              properties:
                state:
                  type: integer
                error:
                  type: string   

# 알림 보내기 - 웹소캣 등으로 구현



